[{"categories":null,"content":" å…³äºæˆ‘ | About Me ","date":"2019-08-02","objectID":"/about/:0:0","series":null,"tags":null,"title":"About Aphasia","uri":"/about/#"},{"categories":null,"content":"ç®€ä»‹ğŸ“ æˆ‘èµåŒä¸€ä¸ªäº‹å®ï¼šLife becomes a lot more fun when you know that it is meaningless. Everyone is going to die, so anyone who enjoys their life has just had an extra treat. It is just a big bonus. æˆ‘çš„ä¸€äº›ä¿¡æ¯ï¼š A university student Learning: Python Go Hobby: åˆ’æ°´ Motto: Harderï¼Œluckier ","date":"2019-08-02","objectID":"/about/:1:0","series":null,"tags":null,"title":"About Aphasia","uri":"/about/#ç®€ä»‹ğŸ“"},{"categories":["Go"],"content":"è£…é¥°å™¨ä½œä¸ºPythoné‡è¦éƒ¨åˆ†ä¹‹ä¸€ï¼Œæ˜¯å¿…é¡»æŒæ¡çš„çŸ¥è¯†ç‚¹ã€‚å­¦ä¼šäº†å°±èƒ½é©¬ä¸Šè£…èµ·æ¥ğŸ˜„ ","date":"0001-01-01","objectID":"/posts/decorator/:0:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#"},{"categories":["Go"],"content":"Pythonè£…é¥°å™¨ æˆ‘ä»¬å…ˆä»å­—é¢ä¸Šæ¥ç†è§£ä¸€ä¸‹ã€‚è£…é¥°å™¨å°±æ˜¯æ‹¿æ¥è£…é¥°ç‰©å“çš„ï¼Œå°±åƒä½ åœ¨æ­é…è‡ªå·±çš„ç©¿è¡£ä¸€æ ·ï¼Œå¯ä»¥åŠ ä¸€é¡¶å¸½å­ã€ä¸€å‰¯å¢¨é•œç­‰ç­‰ï¼Œè€Œå®Œå…¨ä¸ç”¨å¯¹ä½ çš„è„‘è¢‹å’Œçœ¼ç›ä½œä¸€äº›ä¿®æ”¹~ ","date":"0001-01-01","objectID":"/posts/decorator/:0:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#pythonè£…é¥°å™¨"},{"categories":["Go"],"content":"å‰ç½®çŸ¥è¯† Pythonç¨‹åºæ‰§è¡Œé¡ºåºï¼šä»ä¸Šå‘ä¸‹æ‰§è¡Œï¼ def demo(): print(\"è¿™æ˜¯demoå‡½æ•°\") å‡ ä¸ªæ¦‚å¿µï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£åé¢çš„è£…é¥°å™¨è¿è¡Œæœºåˆ¶. def outer(func): def inner(): print(\"æˆ‘æ˜¯å†…å±‚å‡½æ•°ï¼\") return inner def foo(): print(\"æˆ‘æ˜¯åŸå§‹å‡½æ•°ï¼\") outer(foo) outer(foo()) æ¦‚å¿µ object å‡½æ•°å outerã€innerã€demo å‡½æ•°ä½“ - è¿”å›å€¼ return ï½ å‡½æ•°å†…å­˜åœ°å€ id() å‡½æ•°å() è°ƒç”¨å‡½æ•° å‡½æ•°åä½œä¸ºå‚æ•° outer(foo) å‡½æ•°å()ä½œä¸ºå‚æ•° è¿”å›å€¼ä½œä¸ºå‚æ•° è¿”å›å‡½æ•°å return inner è¿”å›å‡½æ•°å() è¿”å›è¿”å›å€¼ ","date":"0001-01-01","objectID":"/posts/decorator/:1:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#å‰ç½®çŸ¥è¯†"},{"categories":["Go"],"content":"Question å‡å®šæˆ‘ä»¬æ¯ä¸€ä¸ªäººéƒ½è´Ÿè´£ä¸€ä¸ªæ¨¡å— def demo1(): print(\"è¿™æ˜¯ç‘¶ç‘¶è´Ÿè´£çš„éƒ¨åˆ†ï¼\") def demo2(): print(\"è¿™æ˜¯å…‰å…‰è´Ÿè´£çš„éƒ¨åˆ†ï¼\") def demo3(): print(\"è¿™æ˜¯å¤å¤è´Ÿè´£çš„éƒ¨åˆ†ï¼\") # åˆ†åˆ«åšè‡ªå·±è´Ÿè´£çš„é‚£ä¸€éƒ¨åˆ† demo1() demo2() demo3() ä¸ºæ¯ä¸€ä¸ªè´Ÿè´£çš„æ¨¡å—å„¿è¿›è¡Œåˆæ ¼æ€§æ£€æµ‹ï¼Ÿ ","date":"0001-01-01","objectID":"/posts/decorator/:2:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#question"},{"categories":["Go"],"content":"æ¼”åŒ– ","date":"0001-01-01","objectID":"/posts/decorator/:3:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#æ¼”åŒ–"},{"categories":["Go"],"content":"è£…é¥°å™¨æ˜¯å¦‚ä½•è¿è¡Œçš„(è¿è¡Œæœºåˆ¶)ï¼Ÿ def outer(func): def run(): print(\"åˆæ ¼æ£€æµ‹å·²é€šè¿‡!\") result = func() print(\"æ‰§è¡ŒæˆåŠŸ!\") return result return run @outer def foo(): print(\"å…‰å…‰åœ¨ç¡è§‰ï¼\") foo() def outer(func): print(\"åˆæ ¼æ£€æµ‹å·²é€šè¿‡!\") result = func() print(\"æ‰§è¡ŒæˆåŠŸ!\") return result @outer def foo(): print(\"å¤å¤è´Ÿè´£çš„éƒ¨åˆ†!\") ç¨‹åºå¦‚ä½•è¿è¡Œï¼Ÿ ç¨‹åºå¼€å§‹ï¼Œè¯»åˆ°outer(func)å‡½æ•°ï¼Œå‡½æ•°ä½“å†™å…¥å†…å­˜ ç¨‹åºè¿›è¡Œåˆ°@outerï¼Œæ‰§è¡Œ@åçš„å‡½æ•°ã€‚è¿™é‡Œ@æ˜¯Pythonçš„è¯­æ³•ç³–ï¼Œç¨‹åºè¯»åˆ°è¿™é‡Œå°±çŸ¥é“åº”è¯¥è¿è¡Œåé¢çš„outerå‡½æ•° ç¨‹åºåˆ°äº†outer(func)å‡½æ•°ï¼Œè¢«è£…é¥°çš„å‡½æ•°fooä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†funcã€‚func=fooï¼Œ@outer=outer(foo)ï¼Œä¼ é€’çš„æ˜¯fooå‡½æ•°ä½“ï¼Œä¸æ˜¯æ‰§è¡Œfooåçš„è¿”å›å€¼ ç¨‹åºè¿›å…¥outerå†…éƒ¨ï¼Œå°†runå‡½æ•°å®šä¹‰å—è¯»å…¥å†…å­˜ return runï¼Œè¿”å›å‡½æ•°årunï¼Œä¸”å‡½æ•°årunè¢«èµ‹å€¼ç»™f1è¿™ä¸ªè¢«è£…é¥°çš„å‡½æ•°ï¼Œå³f1 = run å†æ¬¡è°ƒç”¨fooå‡½æ•°æ—¶å€™ï¼Œæ‰§è¡Œçš„å°±æ˜¯ä¸å†æ˜¯fooå‡½æ•°çš„ä»£ç  def foo(func): print(\"foo\") func() return func @foo def func_a(): print(\"func_a\") import time def timeit(func): def inner(): start = time.time() func() end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner def hello(): time.sleep(1) print(\"Hello\") hello = timeit(hello) hello() @timeit def hello(): time.sleep(1) print(\"Hello\") hello() print(hello.__name__) import time from functools import wraps def timeit(func): @wraps(func) def inner(): start = time.time() func() end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(): time.sleep(1) print(\"hello\") print(hello.__name__) import time from functools import wraps def timeit(func): @wraps(func) def inner(name): start = time.time() func(name) end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(name): time.sleep(1) print(\"Hello %s\" % name) hello(\"Docuration\") import time from functools import wraps def timeit(func): @wraps(func) def inner(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(name): time.sleep(1) print(\"hello %s\" % name) @timeit def say(name, age): print(\"hello %s%s\" % (name, age)) @timeit def say2(name, age = 20): print(\"hello %s%s\" % (name, age)) hello(\"å°ç‹å­\") say(\"å¼ 5\", 20) say2(\"æ3\") import time from functools import wraps def timeit(profix): def decoration(func): @wraps(func) def wrapper(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"%s: duration time : %ds\" % (profix, int(end - start))) return wrapper return decoration @timeit(\"profix1\") def hello(name): time.sleep(1) print(\"hello %s\" % name) hello(\"Chromium\") import time from functools import wraps class Timeit(object): \"\"\" ç”¨ç±»å®ç°è£…é¥°å™¨ \"\"\" def __init__(self, profix): self.profix = profix def __call__(self, func): @wraps(func) def wrapper(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"%s:duration time :%ds\" % (self.profix, int(end - start))) return wrapper @Timeit(\"profix\") def hello(): time.sleep(1) print(\"Hello\") hello() ","date":"0001-01-01","objectID":"/posts/decorator/:3:1","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è£…é¥°å™¨æ˜¯å¦‚ä½•è¿è¡Œçš„è¿è¡Œæœºåˆ¶"},{"categories":["Go"],"content":"è£…é¥°å™¨æ˜¯å¦‚ä½•è¿è¡Œçš„(è¿è¡Œæœºåˆ¶)ï¼Ÿ def outer(func): def run(): print(\"åˆæ ¼æ£€æµ‹å·²é€šè¿‡!\") result = func() print(\"æ‰§è¡ŒæˆåŠŸ!\") return result return run @outer def foo(): print(\"å…‰å…‰åœ¨ç¡è§‰ï¼\") foo() def outer(func): print(\"åˆæ ¼æ£€æµ‹å·²é€šè¿‡!\") result = func() print(\"æ‰§è¡ŒæˆåŠŸ!\") return result @outer def foo(): print(\"å¤å¤è´Ÿè´£çš„éƒ¨åˆ†!\") ç¨‹åºå¦‚ä½•è¿è¡Œï¼Ÿ ç¨‹åºå¼€å§‹ï¼Œè¯»åˆ°outer(func)å‡½æ•°ï¼Œå‡½æ•°ä½“å†™å…¥å†…å­˜ ç¨‹åºè¿›è¡Œåˆ°@outerï¼Œæ‰§è¡Œ@åçš„å‡½æ•°ã€‚è¿™é‡Œ@æ˜¯Pythonçš„è¯­æ³•ç³–ï¼Œç¨‹åºè¯»åˆ°è¿™é‡Œå°±çŸ¥é“åº”è¯¥è¿è¡Œåé¢çš„outerå‡½æ•° ç¨‹åºåˆ°äº†outer(func)å‡½æ•°ï¼Œè¢«è£…é¥°çš„å‡½æ•°fooä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†funcã€‚func=fooï¼Œ@outer=outer(foo)ï¼Œä¼ é€’çš„æ˜¯fooå‡½æ•°ä½“ï¼Œä¸æ˜¯æ‰§è¡Œfooåçš„è¿”å›å€¼ ç¨‹åºè¿›å…¥outerå†…éƒ¨ï¼Œå°†runå‡½æ•°å®šä¹‰å—è¯»å…¥å†…å­˜ return runï¼Œè¿”å›å‡½æ•°årunï¼Œä¸”å‡½æ•°årunè¢«èµ‹å€¼ç»™f1è¿™ä¸ªè¢«è£…é¥°çš„å‡½æ•°ï¼Œå³f1 = run å†æ¬¡è°ƒç”¨fooå‡½æ•°æ—¶å€™ï¼Œæ‰§è¡Œçš„å°±æ˜¯ä¸å†æ˜¯fooå‡½æ•°çš„ä»£ç  def foo(func): print(\"foo\") func() return func @foo def func_a(): print(\"func_a\") import time def timeit(func): def inner(): start = time.time() func() end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner def hello(): time.sleep(1) print(\"Hello\") hello = timeit(hello) hello() @timeit def hello(): time.sleep(1) print(\"Hello\") hello() print(hello.__name__) import time from functools import wraps def timeit(func): @wraps(func) def inner(): start = time.time() func() end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(): time.sleep(1) print(\"hello\") print(hello.__name__) import time from functools import wraps def timeit(func): @wraps(func) def inner(name): start = time.time() func(name) end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(name): time.sleep(1) print(\"Hello %s\" % name) hello(\"Docuration\") import time from functools import wraps def timeit(func): @wraps(func) def inner(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"duration time : %ds\" % int(end - start)) return inner @timeit def hello(name): time.sleep(1) print(\"hello %s\" % name) @timeit def say(name, age): print(\"hello %s%s\" % (name, age)) @timeit def say2(name, age = 20): print(\"hello %s%s\" % (name, age)) hello(\"å°ç‹å­\") say(\"å¼ 5\", 20) say2(\"æ3\") import time from functools import wraps def timeit(profix): def decoration(func): @wraps(func) def wrapper(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"%s: duration time : %ds\" % (profix, int(end - start))) return wrapper return decoration @timeit(\"profix1\") def hello(name): time.sleep(1) print(\"hello %s\" % name) hello(\"Chromium\") import time from functools import wraps class Timeit(object): \"\"\" ç”¨ç±»å®ç°è£…é¥°å™¨ \"\"\" def __init__(self, profix): self.profix = profix def __call__(self, func): @wraps(func) def wrapper(*args, **kwargs): start = time.time() func(*args, **kwargs) end = time.time() print(\"%s:duration time :%ds\" % (self.profix, int(end - start))) return wrapper @Timeit(\"profix\") def hello(): time.sleep(1) print(\"Hello\") hello() ","date":"0001-01-01","objectID":"/posts/decorator/:3:1","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#ç¨‹åºå¦‚ä½•è¿è¡Œ"},{"categories":["Go"],"content":"è£…é¥°å™¨ä½¿ç”¨åœºæ™¯ ","date":"0001-01-01","objectID":"/posts/decorator/:4:0","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è£…é¥°å™¨ä½¿ç”¨åœºæ™¯"},{"categories":["Go"],"content":"è®°å½•è°ƒç”¨æ—¥å¿— import logging from functools import wraps def logging(func): @wraps(func) def wrapper(*args, **kwargs): logging.info(\"call method: %s%s%s\", func.func_name, args, kwargs) return func(*args, *kwargs) return wrapper ","date":"0001-01-01","objectID":"/posts/decorator/:4:1","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è®°å½•è°ƒç”¨æ—¥å¿—"},{"categories":["Go"],"content":"è®°å½•æ–¹æ³•æ‰§è¡Œè€—æ—¶ from functools import wraps def timeit(func): @wraps(func) def wrapper(*args, **kwargs): start = time.time() result = func(*args, **kwargs) duration = int(time.time() - start) print(\"method: %s, time: %s\" % (func.func_name, duration)) return result return wrapper ","date":"0001-01-01","objectID":"/posts/decorator/:4:2","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è®°å½•æ–¹æ³•æ‰§è¡Œè€—æ—¶"},{"categories":["Go"],"content":"è®°å½•æ–¹æ³•æ‰§è¡Œæ¬¡æ•° from functools import wraps def counter(func): @wraps(func) def wrapper(*args, **kwargs): wrapper.count = wrapper.count + 1 print(\"method: %s, count: %s\" % (func.func_name, wrapper.count)) return func(*args, **kwargs) wrapper.count = 0 return wrapper ","date":"0001-01-01","objectID":"/posts/decorator/:4:3","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è®°å½•æ–¹æ³•æ‰§è¡Œæ¬¡æ•°"},{"categories":["Go"],"content":"æœ¬åº¦ç¼“å­˜ from functools import wraps def localcache(func): cache = {} miss = object() @wraps(func) def wrapper(*args): result = cached.get(args, miss) if result is miss: result = func(*args) cached[args] = result return result return wrapper ","date":"0001-01-01","objectID":"/posts/decorator/:4:4","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#æœ¬åº¦ç¼“å­˜"},{"categories":["Go"],"content":"è·¯ç”±æ˜ å°„ class Router(object): def __init__(self): self.url_map = {} def register(self, url): def wrapper(func): self.url_map[url] = func return wrapper def call(self, url): func = self.url_map.get(url) if not func: raise ValueError(\"No url function: %s\", url) return func() router = Router() @router.register(\"/page1\") def page1(): return \"This is page 1\" @router.register(\"/page2\") def page2(): return \"This is page 2\" print(router.call(\"/page1\")) print(router.call(\"/page2\")) ","date":"0001-01-01","objectID":"/posts/decorator/:4:5","series":null,"tags":["Python"],"title":"ç”¨è£…é¥°å™¨è£…èµ·æ¥ï½","uri":"/posts/decorator/#è·¯ç”±æ˜ å°„"}]